<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Artist Dashboard – ArtPath</title>
  <link rel="stylesheet" href="Artpath.css">
  <style>
    .dashboard-container {
      display: flex;
      min-height: 100vh;
      background: linear-gradient(180deg, #23243a 0%, #181a2a 100%);
    }
    .dashboard-sidebar {
      width: 220px;
      background: #181a2a;
      color: #a3a8c9;
      display: flex;
      flex-direction: column;
      padding: 40px 0 0 0;
      box-shadow: 2px 0 16px rgba(24,26,42,0.10);
      min-height: 100vh;
    }
    .dashboard-sidebar a {
      color: #a3a8c9;
      text-decoration: none;
      padding: 18px 32px;
      font-size: 1.08rem;
      font-weight: 500;
      transition: background 0.2s, color 0.2s;
    }
    .dashboard-sidebar a:hover, .dashboard-sidebar a.active {
      background: #23243a;
      color: #fff;
    }
    .dashboard-main {
      flex: 1;
      padding: 60px 40px 40px 40px;
      color: #e3e6f3;
      display: flex;
      flex-direction: column;
      gap: 32px;
    }
    .dashboard-welcome {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 18px;
    }
    .dashboard-actions {
      display: flex;
      gap: 18px;
      margin-bottom: 24px;
    }
    .dashboard-actions button {
      background: #0600AB;
      color: #fff;
      font-size: 1.08rem;
      font-weight: 600;
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 0 12px 2px rgba(6,0,171,0.12);
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
    }
    .dashboard-actions button:hover {
      background: #00033D;
      box-shadow: 0 0 24px 4px rgba(6,0,171,0.18);
    }
    .dashboard-section {
      background: #23243a;
      border-radius: 12px;
      padding: 32px 24px;
      margin-bottom: 18px;
      box-shadow: 0 2px 12px rgba(24,26,42,0.10);
    }
    .dashboard-section h3 {
      margin-top: 0;
      color: #a3a8c9;
      font-size: 1.3rem;
      margin-bottom: 18px;
    }
    .highlight {
      font-weight: 800;
      letter-spacing: 1px;
      background: linear-gradient(90deg, #0600AB 0%, #00033D 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .messages-section {
      padding: 0;
    }
    .messages-container {
      display: flex;
      background: #181a2a;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(24,26,42,0.10);
      overflow: hidden;
      min-height: 320px;
    }
    .conversation-list {
      width: 180px;
      background: #23243a;
      border-right: 1.5px solid #2e3150;
      display: flex;
      flex-direction: column;
    }
    .conversation {
      padding: 18px 16px;
      color: #a3a8c9;
      cursor: pointer;
      border-bottom: 1px solid #181a2a;
      transition: background 0.2s, color 0.2s;
    }
    .conversation.active, .conversation:hover {
      background: #0600AB;
      color: #fff;
    }
    .chat-window {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 18px 18px 12px 18px;
    }
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .message {
      max-width: 70%;
      padding: 10px 16px;
      border-radius: 16px;
      font-size: 1.01rem;
      line-height: 1.5;
      margin-bottom: 2px;
    }
    .from-them {
      background: #23243a;
      color: #a3a8c9;
      align-self: flex-start;
    }
    .from-me {
      background: #0600AB;
      color: #fff;
      align-self: flex-end;
    }
    .chat-input-row {
      display: flex;
      gap: 8px;
    }
    .chat-input {
      flex: 1;
      padding: 10px 14px;
      border-radius: 8px;
      border: 1px solid #2e3150;
      background: #23243a;
      color: #fff;
      font-size: 1rem;
      outline: none;
    }
    .chat-send-btn {
      background: #0600AB;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 10px 22px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    .chat-send-btn:hover {
      background: #00033D;
    }
    .commissions-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
      background: #181a2a;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 12px rgba(24,26,42,0.10);
    }
    .commissions-table th, .commissions-table td {
      padding: 14px 10px;
      text-align: left;
      color: #e3e6f3;
    }
    .commissions-table th {
      background: #23243a;
      color: #a3a8c9;
      font-weight: 700;
    }
    .commissions-table tr:not(:last-child) {
      border-bottom: 1px solid #2e3150;
    }
    .status {
      padding: 4px 12px;
      border-radius: 8px;
      font-size: 0.98rem;
      font-weight: 600;
    }
    .status.pending {
      background: #0600AB;
      color: #fff;
    }
    .status.accepted {
      background: #1bbf6b;
      color: #fff;
    }
    .status.declined {
      background: #c0392b;
      color: #fff;
    }
    .accept-btn, .decline-btn {
      padding: 7px 16px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      margin-right: 6px;
      cursor: pointer;
      font-size: 0.98rem;
      transition: background 0.2s, color 0.2s;
    }
    .accept-btn {
      background: #1bbf6b;
      color: #fff;
    }
    .accept-btn:disabled {
      background: #1bbf6b99;
      color: #fff;
      cursor: not-allowed;
    }
    .decline-btn {
      background: #c0392b;
      color: #fff;
    }
    .decline-btn:disabled {
      background: #c0392b99;
      color: #fff;
      cursor: not-allowed;
    }
    @media (max-width: 900px) {
      .dashboard-container { flex-direction: column; }
      .dashboard-sidebar { width: 100%; flex-direction: row; padding: 0; }
      .dashboard-sidebar a { flex: 1; text-align: center; padding: 16px 0; }
      .dashboard-main { padding: 32px 8px; }
      .messages-container { flex-direction: column; }
      .conversation-list { width: 100%; flex-direction: row; border-right: none; border-bottom: 1.5px solid #2e3150; }
      .conversation { flex: 1; text-align: center; border-bottom: none; border-right: 1px solid #181a2a; }
    }
  </style>
</head>
<body>
  <!-- Upload Art Modal -->
  <div id="uploadArtModal" class="modal hidden">
    <div class="modal-content">
      <button class="close-modal" id="closeUploadArtModal">×</button>
      <h2 class="highlight">Upload Artwork</h2>
      <form id="uploadArtForm">
        <input type="file" id="artImage" accept="image/*" required />
        <input type="text" id="artTitle" placeholder="Title" required />
        <textarea id="artDesc" placeholder="Description" rows="3" required></textarea>
        <button type="submit">Upload</button>
      </form>
      <div id="uploadArtMsg" class="auth-message"></div>
    </div>
  </div>
  <div class="dashboard-container">
    <nav class="dashboard-sidebar">
      <a href="#" class="active">Portfolio</a>
      <a href="#">Commissions</a>
      <a href="#">Messages</a>
      <a href="#">Settings</a>
    </nav>
    <main class="dashboard-main">
      <div class="dashboard-welcome highlight">Welcome, [Name]</div>
      <div class="dashboard-actions">
        <button id="openUploadArtModal">Upload Art</button>
        <button>Set Up Profile</button>
        <button>View My Page</button>
      </div>
      <div class="dashboard-section">
        <h3 class="highlight">Commission Requests</h3>
        <table class="commissions-table">
          <thead>
            <tr>
              <th>Client</th>
              <th>Type</th>
              <th>Price</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Jamie</td>
              <td>Portrait</td>
              <td>$100</td>
              <td><span class="status pending">Pending</span></td>
              <td>
                <button class="accept-btn">Accept</button>
                <button class="decline-btn">Decline</button>
              </td>
            </tr>
            <tr>
              <td>Morgan</td>
              <td>Landscape</td>
              <td>$200</td>
              <td><span class="status accepted">Accepted</span></td>
              <td>
                <button class="accept-btn" disabled>Accept</button>
                <button class="decline-btn" disabled>Decline</button>
              </td>
            </tr>
            <tr>
              <td>Taylor</td>
              <td>Anime Style</td>
              <td>$80</td>
              <td><span class="status declined">Declined</span></td>
              <td>
                <button class="accept-btn" disabled>Accept</button>
                <button class="decline-btn" disabled>Decline</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="dashboard-section">
        <h3 class="highlight">My Portfolio</h3>
        <div id="portfolioGrid" class="art-grid"></div>
      </div>
      <div class="dashboard-section messages-section">
        <h3 class="highlight">Messages</h3>
        <div class="messages-container">
          <div class="conversation-list" id="artistConvoList"></div>
          <div class="chat-window">
            <div class="chat-messages" id="artistChatMessages"></div>
            <div class="chat-input-row">
              <input type="text" class="chat-input" id="artistChatInput" placeholder="Type your message..." />
              <button class="chat-send-btn" id="artistSendBtn">Send</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
<script>
// Upload Art Modal logic
const uploadArtModal = document.getElementById('uploadArtModal');
const openUploadArtModal = document.getElementById('openUploadArtModal');
const closeUploadArtModal = document.getElementById('closeUploadArtModal');
const uploadArtForm = document.getElementById('uploadArtForm');
const uploadArtMsg = document.getElementById('uploadArtMsg');
const portfolioGrid = document.getElementById('portfolioGrid');

function showUploadArtModal() {
  uploadArtModal.classList.remove('hidden');
  uploadArtMsg.textContent = '';
  uploadArtForm.reset();
}
function hideUploadArtModal() {
  uploadArtModal.classList.add('hidden');
}
if (openUploadArtModal) openUploadArtModal.onclick = showUploadArtModal;
if (closeUploadArtModal) closeUploadArtModal.onclick = hideUploadArtModal;
window.addEventListener('click', (e) => {
  if (e.target === uploadArtModal) hideUploadArtModal();
});

function getPortfolio() {
  return JSON.parse(localStorage.getItem('artpathPortfolio') || '[]');
}
function setPortfolio(items) {
  localStorage.setItem('artpathPortfolio', JSON.stringify(items));
}
function renderPortfolio() {
  const items = getPortfolio();
  portfolioGrid.innerHTML = items.length ? '' : '<p style="color:#bfc2d1;text-align:center;">No artworks yet.</p>';
  items.forEach((item, idx) => {
    const div = document.createElement('div');
    div.className = 'art-card';
    div.innerHTML = `<img src="${item.img}" alt="${item.title}" /><div class="art-title">${item.title}</div><div class="art-desc">${item.desc}</div><button class='delete-art-btn' data-idx='${idx}'>Delete</button>`;
    portfolioGrid.appendChild(div);
  });
  document.querySelectorAll('.delete-art-btn').forEach(btn => {
    btn.onclick = function() {
      const idx = +this.getAttribute('data-idx');
      const items = getPortfolio();
      items.splice(idx, 1);
      setPortfolio(items);
      renderPortfolio();
    };
  });
}
renderPortfolio();

uploadArtForm.onsubmit = (e) => {
  e.preventDefault();
  uploadArtMsg.textContent = '';
  const file = document.getElementById('artImage').files[0];
  const title = document.getElementById('artTitle').value.trim();
  const desc = document.getElementById('artDesc').value.trim();
  if (!file || !title || !desc) {
    uploadArtMsg.textContent = 'Please fill in all fields.';
    return;
  }
  const reader = new FileReader();
  reader.onload = function(evt) {
    const img = evt.target.result;
    const items = getPortfolio();
    items.unshift({ img, title, desc });
    setPortfolio(items);
    renderPortfolio();
    uploadArtMsg.textContent = 'Artwork uploaded!';
    setTimeout(hideUploadArtModal, 900);
  };
  reader.readAsDataURL(file);
};

// Messaging system (demo, localStorage)
const artistConvoList = document.getElementById('artistConvoList');
const artistChatMessages = document.getElementById('artistChatMessages');
const artistChatInput = document.getElementById('artistChatInput');
const artistSendBtn = document.getElementById('artistSendBtn');

const ARTIST_USER = getUser() || 'Artist';
const ARTIST_CONVOS_KEY = 'artpathArtistConvos';
const ARTIST_MSGS_KEY = 'artpathArtistMsgs';

function getArtistConvos() {
  return JSON.parse(localStorage.getItem(ARTIST_CONVOS_KEY) || '[{"name":"Jamie"},{"name":"Morgan"},{"name":"Taylor"}]');
}
function setArtistConvos(convos) {
  localStorage.setItem(ARTIST_CONVOS_KEY, JSON.stringify(convos));
}
function getArtistMsgs() {
  return JSON.parse(localStorage.getItem(ARTIST_MSGS_KEY) || '{}');
}
function setArtistMsgs(msgs) {
  localStorage.setItem(ARTIST_MSGS_KEY, JSON.stringify(msgs));
}
let currentConvo = getArtistConvos()[0]?.name || '';
function renderArtistConvos() {
  const convos = getArtistConvos();
  artistConvoList.innerHTML = '';
  convos.forEach(c => {
    const div = document.createElement('div');
    div.className = 'conversation' + (c.name === currentConvo ? ' active' : '');
    div.textContent = 'Client: ' + c.name;
    div.onclick = () => { currentConvo = c.name; renderArtistConvos(); renderArtistMsgs(); };
    artistConvoList.appendChild(div);
  });
}
function renderArtistMsgs() {
  const msgs = getArtistMsgs()[currentConvo] || [];
  artistChatMessages.innerHTML = '';
  msgs.forEach(m => {
    const div = document.createElement('div');
    div.className = 'message ' + (m.from === ARTIST_USER ? 'from-me' : 'from-them');
    div.textContent = m.text;
    artistChatMessages.appendChild(div);
  });
  artistChatMessages.scrollTop = artistChatMessages.scrollHeight;
}
artistSendBtn.onclick = sendArtistMsg;
artistChatInput.onkeydown = e => { if (e.key === 'Enter') sendArtistMsg(); };
function sendArtistMsg() {
  const text = artistChatInput.value.trim();
  if (!text) return;
  const msgs = getArtistMsgs();
  msgs[currentConvo] = msgs[currentConvo] || [];
  msgs[currentConvo].push({ from: ARTIST_USER, text });
  setArtistMsgs(msgs);
  artistChatInput.value = '';
  renderArtistMsgs();
}
renderArtistConvos();
renderArtistMsgs();
</script>
</body>
</html> 